# python 异步IO——asyncio

asyncio是一个用来编写并发代码的库，使用async/await语法

## 协程

协程又称为微线程，是一种**用户态**轻量级线程

> 协程拥有自己的寄存器上下文和栈。协程调度切换时，将寄存器上下文和栈保存到其他 地方，在切回来的时候，恢复先前保存的寄存器上下文和栈。因此：协程能保留上一次调用 时的状态（即所有局部状态的一个特定组合），每次过程重入时，就相当于进入上一次调用 的状态，换种说法：进入上一次离开时所处逻辑流的位置。

### 为什么使用协程

1. 相对于线程和进程来说，切换代价更小。
2. 无需考虑原子操作，省下了同步的开销
3. 适合高并发，一个CPU可以支持上万协程

缺点：

1. 无法利用多核优势
2. 阻塞时会阻塞掉整个程序

### 重要概念

协程有几个重要的概念：

1. 事件循环
2. Futures

#### 事件循环





